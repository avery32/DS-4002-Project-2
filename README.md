# DS-4002-Project-2
Project 2 - Time Series
## Section 1: Software and Platforms
The softwares used in this project was google colab and the platforms used were Windows and Mac. We utilized Python, specifically Pandas and NumPy. 
### Required imports and libraries:
```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from pathlib import Path
import warnings
warnings.filterwarnings("ignore")

from statsmodels.tsa.arima.model import ARIMA
from statsmodels.tsa.statespace.sarimax import SARIMAX
from statsmodels.graphics.tsaplots import plot_acf, plot_pacf
from sklearn.metrics import mean_squared_error, r2_score
```

## Section 2: Map of Documentation
```
Project Folder
├── .idea/ # IDE configuration files (automatically generated by PyCharm or similar)
├── .gitignore # Specifies files and folders to be ignored by Git
│
├── DATA/ # Contains all datasets and related metadata used in this project
│ ├── processed/ # Cleaned and transformed datasets ready for analysis
│ ├── raw/ # Raw, unprocessed source data
│ ├── 2020sMarriageRates.csv # Main dataset containing U.S. marriage rates data
│ ├── DataDictionary.png # Visual diagram explaining dataset variables
│ ├── EDA_Plots.png # Exploratory Data Analysis visualizations
│ └── METADATA.md # Documentation describing dataset source, structure, and processing steps
│
├── OUTPUT/ # Stores all model results, forecasts, and evaluation metrics
│ ├── best_model.json # Serialized file containing best-performing model parameters
│ ├── forecast_2010_2023.csv # Forecasted marriage rates from 2010–2023
│ ├── forecast_vs_actual_yearly.csv # Comparison between forecasted and actual values
│ ├── metrics_yearly.json # Yearly model performance metrics (e.g., MSE, RMSE)
│ └── model_selection_results.csv # Summary table comparing model performance during selection
│
├── SCRIPTS/ # Contains Python scripts for data preprocessing, modeling, and evaluation
│ ├── 01_preprocess.py # Loads and cleans raw data for analysis
│ ├── 02_model.py # Defines and trains forecasting models (e.g., ARIMA, Random Forest)
│ ├── 03_fit_and_forecast.py # Fits the selected model and generates predictions
│ └── 04_evaluate_yearly.py # Evaluates forecast performance on a yearly basis and outputs metrics
│
├── LICENSE # Project license outlining permissions and usage rights
└── README.md # Main documentation file describing the purpose, structure, and usage of the project
```

## Section 3: Reproducing Steps Instructions:

In this section, you should give explicit step-by-step instructions to reproduce the Results of your study. These instructions should be written in straightforward plain English, but they must be concise, but detailed and precise enough, to make it possible for an interested user to reproduce your results without much difficulty. N.B. This section will be crucial for the CS1 assignment, where you'll be required to reproduce the results of other groups. Therefore, make sure to explain this section thoroughly.
** Assumptions **
- You are starting from the repository root
- Python ≥ 3.9 is installed.
- commands shown for macOS/Linux; on Windows PowerShell, replace `source .venv/bin/activate` with `. .venv/Scripts/Activate.ps1`.
  ** Required data **:
- Collected from the CDC National Vital Statistics Reports of 'Births, Marriages, Divorces and Deaths: Provisional Data for' each year (2000-2009)
- Raw monthly data: `DATA/raw/MarriageRates.csv`
- Processed monthly data (script output): `DATA/processed/MarriageRates_tidy.csv`
- Actual annual data for evaluation: `DATA/2020sMarriageRates.csv`
- contains columns: Year, Month, Number, and Rate Per 1000
### 3.1 Set up the Environment 
```bash
# (recommended) create & activate a virtual environment
python -m venv .venv
source .venv/bin/activate

# install dependencies
pip install -r requirements.txt
```
### 3.2 Preprocess the raw monthly data 
Ingest the DATA/raw/MarriageRates.csv, normalizes columns (expects year, month, and a rate column like rate_per_1000), builds a monthly time series, and writes DATA/processed/MarriageRates_tidy.csv
```bash
python SCRIPTS/01_preprocess.py
```
### 3.3 Run Model selection (ARIMA/SARIMA) from 2000-2009
This script slices training data to 2000–2009, searches small ARIMA/SARIMA grids, ranks by AIC, saves the leaderboard, and writes the best model spec to JSON
``` bash
python SCRIPTS/02_model.py
```
Produces
OUTPUT/model_selection_results.csv
OUTPUT/best_model.json (e.g., family, order, seasonal_order)

### 3.4 Fit best model & forecast 
This loads the best spec refits on 2000–2009, and forecasts monthly through Dec-2023.
``` bash
python SCRIPTS/03_fit_and_forecast.py
```
Produces: OUTPUT/forecast_2010_2023.csv (columns: date, pred)

### 3.5 Evaluate yearly forecasts vs actuals
This aggregates the monthly predictions to annual means, aligns with DATA/2020sMarriageRates.csv, and computes summary metrics (MAPE, RMSE, R² when available).
``` bash
python SCRIPTS/04_evaluate_yearly.py
```


